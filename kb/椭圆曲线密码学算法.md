# 参考资料

密码学简介与Golang的加密库Crypto的使用
https://blog.yumaojun.net/2017/02/19/go-crypto/

椭圆曲线加解密及签名算法的技术原理及其Go语言实现
http://blog.51cto.com/11821908/2057726

# 常见应用

	随机生成私钥 k
	计算出公钥 K = kG

私钥签名过程：

	待签名数据为 h，实际应用中一般取原始数据的哈希值为 h
	产生一个随机整数 r  (mod n)
	计算 {x, y} = rG
	计算 s = (h + kx)/r  (mod p)
	若 h/s mod p ≥ n 或者 kx/s mod p ≥ n 则需重新签名（否则无法验签）
	发布签名为 {x, s}

公钥验签过程：

	已知被签名数据为 h
	计算 {x', y'} = hG/s + xK/s
	因为 hG/s + xK/s
	   = hG/s + x(kG)/s
	   = (h + kx)G/s
	   = (h + kx)G/((h + kx)/r)
	   = rG
	所以，验证 x = x' 即可知签名是否合法

私钥签名过程(2)：

	待签名数据为 h，实际应用中一般取原始数据的哈希值为 h
	产生一个随机整数 r  (mod n)
	计算 A = rG
	计算 s = r – hk  (mod p)
	若 s ≥ n 则需重新签名（否则无法验签）
	发布签名为 {A, s}
	注意：此法的缺陷在于，若 hk mod p ≥ n 则签名失败（无法验签）

公钥验签过程(2)：

	已知被签名数据为 h
	计算 A' = sG + hK
	因为 sG + hK
	   = (r - hk)G + hK
	   = rG - hkG + hK
	   = rG - hK + hK
	   = rG
	所以，验证 A = A' 即可知签名是否合法

ECDH 密钥交换：

	Alice 的公私钥对 {A, a}
	Bob 的公私钥对 {B, b)
	则 S = aB = bA 即为双方合意的密钥

公钥加密过程：

	秘密数据为 C，实际应用中 C 是随机生成的，作为对称加密密钥来使用
	产生一个随机整数 r  (mod n)
	计算 A = rG
	计算 B = C + rK
	发布密文为 {A, B}

	注意：
	此法的缺陷在于，若 rk mod p ≥ n 则加密失败（无法解密），而加密者并不知情

私钥解密过程：

	计算 C' = B - kA
	因为 B - kA
	   = (C + rK) - k(rG)
	   = C + r(kG) - k(rG)
	   = C
	所以，C' = C 即为秘密数据
